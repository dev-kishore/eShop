<div class="container mt-5">
  <div class="main-body">
    <div class="row gutters-sm">
      <div class="col-md-4 mb-4">
        <!-- Top Card -->
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="avatar" class="rounded-circle"
                width="150">
              <div class="mt-3">
                <h4>{{userData.username}}</h4>
                <p class="text-muted font-size-sm">{{userData.address}}</p>
                <button type="button" class="btn btn-danger mt-3" data-mdb-toggle="modal"
                  data-mdb-target="#updateUserForm">Delete Profile</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="card mb-3 p-4">
          <div class="card-body">
            <h5 class="fw-bold">Profile Details</h5>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Full Name</h6>
              </div>
              <div class="col-sm-9 text-muted">
                {{userData.username}}
              </div>
            </div>
            <!-- <hr> -->
            <div class="row mt-3">
              <div class="col-sm-3">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-sm-9 text-muted">
                {{userData.email}}
              </div>
            </div>
            <!-- <hr> -->
            <div class="row mt-3">
              <div class="col-sm-3">
                <h6 class="mb-0">Phone</h6>
              </div>
              <div class="col-sm-9 text-muted">
                {{userData.phone}}
              </div>
            </div>
            <!-- <hr> -->
            <div class="row mt-3">
              <div class="col-sm-3">
                <h6 class="mb-0">Address</h6>
              </div>
              <div class="col-sm-9 text-muted">
                {{userData.address}}
              </div>
            </div>
            <!-- <hr> -->
            <div class="row mt-3">
              <div class="col-sm-12 d-flex">
                <button type="button" class="btn btn-primary" data-mdb-toggle="modal" data-mdb-target="#edit">Edit
                  Profile</button>
                <button type="button" class="btn btn-success ms-3" data-mdb-toggle="modal"
                  data-mdb-target="#changePassword">Change
                  Password</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal for delete confirmation-->
<div class="modal fade" id="updateUserForm" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">Are You Sure to Remove Account?</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">No</button>
        <button type="button" class="btn btn-primary ms-2" (click)="deleteProfile()"
          data-mdb-dismiss="modal">Yes</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal for Edit  -->
<div class="modal fade" id="edit" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">Edit User Details</div>
      <div class="container">
        <app-form></app-form>
      </div>
    </div>
  </div>
</div>
<!-- resetPassword -->
<div class="modal fade" id="changePassword" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">Reset Password</div>
      <div class="container p-2">

        <form #formref="ngForm" (ngSubmit)="updatePassword(formref)">
          <p class="fw-bold text-center text-danger" *ngIf="registeerError.error">
            {{registeerError.errormessage}}
          </p>
          <div class="mb-3">
            <input type="password" name="oldPassword" class="form-control" placeholder="Current Password" ngModel
              required #oldPassword="ngModel">
            <small class="text-danger" *ngIf="oldPassword.touched && !oldPassword.valid">*Old Password is
              required</small>
          </div>
          <div class="mb-3">
            <input type="password" name="newPassword" class="form-control" placeholder="New Password" ngModel required
              #newPassword="ngModel">
            <small class="text-danger" *ngIf="newPassword.touched && !newPassword.valid">*New Password is
              required</small>
          </div>
          <div class="mb-3">
            <input type="password" name="confirmPassword" class="form-control" placeholder='Confirm Password' ngModel
              required #confirmPassword="ngModel">
            <small class="text-danger" *ngIf="confirmPassword.touched && !confirmPassword.valid">*Old Password is
              required</small>
          </div>
          <div class="buttons">
            <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal"
              (click)="formref.reset()">Close</button>
            <button type="submit" class="btn btn-primary ms-2" [disabled]="!formref.valid">Update Password</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>